<!DOCTYPE HTML>
<!--
	Typify by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Test Single</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<section id="banner">
		<div style='line-height: 12px; width: 18px;font-size: 8pt;font-family: tahoma;
				 margin-top: 1px;
				 margin-right: 2px;
				 position:absolute;
				 top:0;
				 left:0;
		 '>
		 <form method = 'GET' action="/">
			<input class="button special" type="submit" value="Home">
		</form>
		</div>
			<h2><strong>Predicting single image and visualization of filters</strong></h2>
		</section>
	<body>
			<section id="one" class="wrapper special">
				<div class="inner">

					<form id="CNN" method="post" autocomplete="off" action = "/testsingle" enctype = "multipart/form-data">
						<div>
							<div style="display: inline-block">
								<div style="float:left;display:inline;margin:-20px;width:500px;">
								<h2><b>Test Image</b></h2>
								<p><input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)" style="display: none;" required></p>
								<p><label id='img' class="button special" for="file" style="cursor: pointer;">Upload Image</label></p>
								<img id="output" width="200">

								<div id='test'>
								<img width="200" src={{test_url}}>
							</div>


								<script>
								var loadFile = function(event) {
									var image = document.getElementById('output');
									image.src = URL.createObjectURL(event.target.files[0]);
									console.log(image)
								};
								</script>

								</div>
								<div style="float:right;display:inline;margin: -20px;width:500px">
								<h2><b>Predicted result</b></h2>
								<br>
								<br>
								<br>
								<br>
								<div id = "predictResult" width="200">
								<img width="200" src={{predict_url}}>
								<h3>{{result}}</h3>
								</div>
							  </div>
							 <div style="clear: both;"></div>
						<br>
						<br>
						<br>
						<div style="display: inline-block">
							<div style="float:left;display:inline;margin:-50px;width:600px;">
								<h1>Enter directory of trained model</h1>
								<input id="model_dir" type="text" name="model_dir" value='{{model_dir}}'required>
						</div>
						<div style="float:right;display:inline;margin: -50px;width:600px">
							<h1>Enter directory of categories</h1>
							<input id="categ_dir" type="text" name="categ_dir" value='{{categ_dir}}'required>
						</div>
						<div style="clear: both;"></div>
						 </div>
						 <br>
						 <br>
						 <br>
						 <div>
							 <h3><b>Download links for visualization of filters</b></h3>
						 </div>

						 <div style="display: inline-block">
							 <div style="float:left;display:inline;margin:-20px;width:500px;">
								 <h4><b>Test Image Filters</b></h4>
								 {% for url,name in filters_names %}
								 <div>
								 	<a id = 'filters_url' href={{url}} download>{{name}}</a>
								</div>
								 {% endfor %}
								 </div>
								 	<div style="float:right;display:inline;margin: -20px;width:500px">
		 								 <h4><b>Predicted Result Filters</b></h4>
		 								 {% for url,name in simulfilters_names %}
		 								 <div>
		 								 	<a id = 'simulfilters_url' href={{url}} download>{{name}}</a>
		 								</div>
		 								 {% endfor %}
									 </div>
									 <div style="clear: both;"></div>
								 </div>


						<!-- <h1>Enter directory of trained model</h1>
						<input id="model_dir" type="text" name="model_dir" value='{{model_dir}}'required>
						</div>
						<br>
						<div>
						<h1>Enter directory of test images </h1>
			      <input id="test_dir" type="text" name="test_dir" value='{{test_dir}}'required>
					 	</div> -->
						<br>

						</div>
						<br>
						<br>
						<br>
						<br>

				  <input class="button special" type="submit" value="Go!">
				</form>
				</div>


			</section>

			<!-- <footer id="footer">
				<div class="copyright">
					&copy; Untitled. Design: <a href="http://templated.co/">TEMPLATED</a>.
				</div>
			</footer> -->

		<!-- Scripts -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="{{url_for('static', filename='script.js')}}"></script>

	</body>
</html>
